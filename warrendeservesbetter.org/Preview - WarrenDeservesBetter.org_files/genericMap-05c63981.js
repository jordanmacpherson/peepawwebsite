define("@widget/CONTACT/c/genericMap-05c63981.js",["exports","~/c/formTypes","@wsb/guac-widget-shared@^1/lib/common/utils/form","@wsb/guac-widget-shared@^1/lib/components/Recaptcha/badge","@wsb/guac-widget-shared@^1/lib/common/constants/form/recaptchaTypes"],(function(e,t,a,o,l){"use strict";function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)({}).hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n.apply(null,arguments)}class s extends(global.React||guac.react).Component{static get propTypes(){return{info:(global.PropTypes||guac["prop-types"]).string.isRequired,...(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.ExternalLink.propTypes}}render(){const{info:e,...t}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Fieldset,{className:"bg-faint ml-20 mr-20 mb-3 pb-3"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Label,{className:"mb-3 mt-15",style:{fontWeight:"normal"}},e),(global.React||guac.react).createElement("div",{className:"mt-3"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.ExternalLink,t)))}}r(s,"defaultProps",{showAsLink:!0});const{PropTypes:i}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,c="deleteSectionButton",g=i.DeleteButton,d="hoursFormPivots",p=i.any.kind("Pivots"),u="hoursHelper",m=i.Description,b="contactFormHelper",h=i.Description,T="deleteFormFieldButton",C=i.DeleteButton,E="readOnlyHelper",y=i.Description,N="whatsAppHelper",f=i.Description,w="attachmentsHelper",I=i.Description,A="fileRequirementsHelper",O=i.ExternalLink,_="contactsLink",R=i.any.kind(s),M="gmbLink",v=i.ExternalLink,S="m365ActivationCTA",P=i.any.kind("M365ActivationCTA");var F={[c]:g,[d]:p,[u]:m,[b]:h,[T]:C,[E]:y,[N]:f,[_]:R,[M]:v,[w]:I,[A]:O,[S]:P};const L="/",D="/hours",k="/hours/$",x="/form",U="/form/$",H="/whatsApp",B="/image";var W=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];const{PropTypes:G}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var V={__proto__:null,env:G.string.readOnly,renderMode:G.string.readOnly,viewDevice:G.string.readOnly,locale:G.string.readOnly,featureFlags:G.object.readOnly,websiteId:G.string.readOnly,pageId:G.string.readOnly,accountId:G.string.readOnly,domainName:G.string.readOnly,isInternalPage:G.bool.readOnly,internalLinks:G.object.readOnly,staticContent:G.object.readOnly,googleRecaptchaDisabled:G.bool.readOnly,emailConfirmationMessage:G.string.readOnly,mapRenderType:G.string.readOnly,recaptchaType:G.string.readOnly,formEnabled:G.Toggle,formTitle:G.Text,formEmail:G.Email.maxCount(70).readOnlyDefault,formSuccessMessage:G.RichText.maxCount(1e3),emailOptInEnabled:G.Toggle,emailOptInMessage:G.Multiline.maxCount(100),formFields:G.arrayOf(G.shape({label:G.Text.maxCount(150),required:G.Toggle,type:G.Select,replyTo:G.bool,validation:G.string,keyName:G.string,attachmentsEnabled:G.Toggle,attachmentsLabel:G.Text.maxCount(30)})).kind("OrderableArray").maxCount(14),image:G.Image,link:G.ToggleableLink,mediaPivot:G.Pivot,backgroundImagePivot:G.Pivot,hoursTitle:G.Text.maxCount(100),structuredHoursEnabled:G.Toggle,structuredHours:G.arrayOf(G.shape({hour:G.shape({byAppointmentOnly:G.bool,closeTime:G.string,closed:G.bool,day:G.string,dayOfWeek:G.number,openTime:G.string}).kind("HourOptions")})).kind("StructuredHours"),hoursCustomMessage:G.RichText.maxCount(500),whatsAppEnabled:G.Toggle,whatsAppButtonLabel:G.Text.maxCount(35).test((e=>e.length>0),"errorButtonLabelValidation"),whatsAppPhone:G.Phone,isWhatsAppAvailable:G.bool.readOnly,sectionTitle:G.Text.maxCount(60),infoTitle:G.Text.maxCount(100),info:G.RichText.maxCount(500),businessName:G.BusinessName,address:G.Address,phone:G.Multiline.maxCount(250).readOnlyDefault,showMap:G.Toggle.readOnlyDefault,enableImageDimension:G.bool.readOnly};const{Widget:X}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var q=X.keys(V);const $={mapboxAccessToken:"pk.eyJ1IjoiZ29kYWRkeSIsImEiOiJjaWc5b20wcjcwczAydGFsdGxvamdvYnV0In0.JK9HuO6nAzc8BnMv6W7NBQ",mapboxStyleUrl:"mapbox://styles/godaddy/ciovyeygh0029atm6zbntgxk2"};var j={local:Object.assign({formSubmitHost:"http://contact.apps-api.instantpage.dev-secureserver.net:8400",generateUrlHost:"http://url-generator.apps.dev-secureserver.net:8080",contactsHost:"https://contacts.dev-godaddy.com"},$),development:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.dev-secureserver.net",generateUrlHost:"https://url-generator.apps.dev-secureserver.net",contactsHost:"https://contacts.dev-godaddy.com"},$),test:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.test-secureserver.net",generateUrlHost:"https://url-generator.apps.test-secureserver.net",contactsHost:"https://contacts.test-godaddy.com"},$),production:Object.assign({formSubmitHost:"https://contact.apps-api.instantpage.secureserver.net",generateUrlHost:"https://url-generator.apps.secureserver.net",contactsHost:"https://contacts.godaddy.com"},$)};const{selectors:{utils:{createSelector:z},I18N:Y,Reseller:Z,Entitlements:K}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,J=z(Z.isReseller,K.current,((e,t)=>!(t&&t.get("gem"))||e)),Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return z(Y.get(e),(a=>a&&a!==e?a:t))},{selectors:ee}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{utils:{not:te,or:ae,createSelector:oe},Config:le,Website:re,Page:ne,Widget:se,Account:ie,Stores:ce}=ee,ge=["contact10"],de=["contact4","contact5","contact9","contact10"],pe={label:ee.I18N.get("titleForContactForm")},ue={label:ee.I18N.get("titleForContactHours")},me={label:ee.I18N.get("whatsAppPivot")};function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;const o=e.getFieldValue(t);return{to:e.getRoute(a),graphic:o&&o.image?(global.React||guac.react).createElement("img",{src:o.image,alt:o.alt||"",className:"mx-pivot-icon"}):void 0}}ee.I18N.get("titleForImage");const he={label:ee.I18N.get("titleForImage"),getProps:e=>be(e)},Te={label:ee.I18N.get("titleForBgImage"),getProps:e=>be(e),hidden:oe(ee.Widget.preset,(e=>!ge.includes(e)))},Ce={getProps(e){const t=e.widgetPreset,a={showRemoveButton:!0,addOrReplaceImage:!0,showAltTagInput:!0};return ge.includes(t)&&(a.showOverlayOpacityControls=!0,a.showAltTagInput=!1,a.enableFocalSelector=!0),a},enableImageDimension:oe(le.flag("imageDimensionLayouts"),se.preset,((e,t)=>e?.includes(t)))},Ee={getProps(e){const t=e.getFieldValue("image");return{hidden:!t||!t.image}}},ye={label:ee.I18N.get("labelForSectionTitle")},Ne={label:ee.I18N.get("labelForInfoTitle")},fe={label:ee.I18N.get("labelForInfo")},we={label:ee.I18N.get("labelForBusinessName")},Ie={label:ee.I18N.get("labelForAddress")},Ae={label:ee.I18N.get("showMap")},Oe={label:ee.I18N.get("labelForPhoneAndEmail"),placeholder:ee.I18N.get("fallbackForContactPhoneAndEmail")},_e={label:ee.I18N.get("deleteSectionButton")},Re={pivots:oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactForm"),ee.Stores.Widget.property("formTitle"),ee.I18N.get("titleForContactHours"),ee.Stores.Widget.property("hoursTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o,l,r)=>{const n=[{to:x,label:t,description:a},{to:D,label:o,description:l}];return e&&n.unshift({to:H,label:r}),n}))};oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactForm"),ee.Stores.Widget.property("formTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o)=>{const l=[{to:x,label:t,description:a}];return e&&l.unshift({to:H,label:o}),l})),oe(ee.Config.flag("isWhatsAppAvailable"),ee.I18N.get("titleForContactHours"),ee.Stores.Widget.property("hoursTitle"),ee.I18N.get("whatsAppPivot"),((e,t,a,o)=>{const l=[{to:D,label:t,description:a}];return e&&l.unshift({to:H,label:o}),l}));const Me={disabled:te(ee.Stores.Widget.option("structuredHoursEnabled")),getProps(e){let{getTranslation:t,getRoute:a}=e;return{pivots:W.map(((e,o)=>({to:a(k,[o]),label:t(e)})))}}},ve={label:ee.I18N.get("labelForHoursTitle")},Se={label:ee.I18N.get("labelForStructureHoursEnabled")},Pe={label:ee.I18N.get("labelForHoursCustomMessage"),placeholder:ee.I18N.get("customMessagePlaceholder")},Fe={inline:!1,description:ee.I18N.get("descriptionForContactHours")},Le=te(ee.Stores.Widget.option("formEnabled")),De=te(ee.Stores.Widget.option("emailOptInEnabled")),ke={description:ee.I18N.get("descriptionForContactForm")},xe={label:ee.I18N.get("labelForFormEnabled")},Ue={link:oe(se.preset,(e=>de.includes(e)?(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY:"")),linkText:oe(se.preset,ee.I18N.get("editThemeStyles"),((e,t)=>de.includes(e)?t:"")),label:ee.I18N.get("labelForFormTitle"),hidden:Le},He={label:ee.I18N.get("labelForFormEmail"),hidden:Le},Be={label:ee.I18N.get("labelFormSuccessMessage"),hidden:Le},We={label:ee.I18N.get("labelForEmailOptIn"),disabled:Le,hidden:ae(J,Le)},Ge={label:ee.I18N.get("labelForEmailOptInMessage"),disabled:ae(Le,De),hidden:ae(J,De,Le)},Ve=e=>"ATTACHMENT"===e.type,Xe={label:ee.I18N.get("labelForLinkButton"),hidden:Le,defaults:[{label:"",type:t.f.SINGLE_LINE,required:!1}],to:U,attachmentsLabel:ee.I18N.get("attachments"),getProps(e){let{value:t,getRoute:a,attachmentsLabel:o}=e;const l=Ve(t[t.length-2])?2:1;return{addIndex:t.length-l,items:t.map(((e,t)=>({to:a(U,[t]),label:Ve(e)?o:e.label}))),lockBottomX:1}}},qe={label:ee.I18N.get("fieldNameLabel"),placeholder:ee.I18N.get("newFieldPlaceholder"),buttonLink:(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY,buttonLinkText:ee.I18N.get("editThemeStyles"),getProps(e){let{getFieldValue:a,buttonLink:o,buttonLinkText:l}=e;const r=a(q.formFields.type);return{disabled:r===t.f.EMAIL,link:r===t.f.SUBMIT?o:null,linkText:r===t.f.SUBMIT?l:null,hidden:r===t.f.ATTACHMENT}}},$e={label:ee.I18N.get("fieldRequiredLabel"),getProps(e){let{getFieldValue:a}=e;const o=a(q.formFields.type);return{disabled:o===t.f.EMAIL,hidden:o===t.f.SUBMIT||o===t.f.ATTACHMENT}}},je={label:ee.I18N.get("allowAttachments"),getProps(e){let{getFieldValue:a}=e;return{hidden:a(q.formFields.type)!==t.f.ATTACHMENT}}},ze={label:ee.I18N.get("buttonLabel"),placeholder:ee.I18N.get("attachFiles"),getProps(e){let{getFieldValue:a}=e;const o=a(q.formFields.type),l=a(q.formFields.attachmentsEnabled);return{hidden:o!==t.f.ATTACHMENT||o===t.f.ATTACHMENT&&!l}}},Ye={description:ee.I18N.get("attachmentsDesc"),getProps(e){let{getFieldValue:a}=e;return{hidden:a(q.formFields.type)!==t.f.ATTACHMENT}}},Ze={label:ee.I18N.get("fileRequirements"),description:ee.I18N.get("fileRequirementsDesc"),linkText:ee.I18N.get("supportedFileTypes"),openAsNewTab:!0,link:"http://godaddy.com/help/a-20113",showAsLink:!0,getProps(e){let{getFieldValue:a}=e;const o=a(q.formFields.type),l=a(q.formFields.attachmentsEnabled);return{hidden:o!==t.f.ATTACHMENT||o===t.f.ATTACHMENT&&!l}}},Ke={label:ee.I18N.get("inputTypeLabel"),options:[{label:ee.I18N.get("inputTypeOptionSingleLine"),value:"SINGLE_LINE"},{label:ee.I18N.get("inputTypeOptionMultiLine"),value:"MULTI_LINE"},{label:ee.I18N.get("inputTypeOptionPhoneNumber"),value:"PHONE"}],getProps(e){let{value:a}=e;return{disabled:a===t.f.EMAIL,hidden:a===t.f.SUBMIT||a===t.f.ATTACHMENT}}},Je={description:ee.I18N.get("readOnlyFieldExplanation"),getProps(e){let{getFieldValue:a}=e;return{hidden:a(q.formFields.type)!==t.f.EMAIL}}},Qe={label:ee.I18N.get("deleteLabelForFormField"),field:"formFields",atIndex:!0,to:x,confirm:!0,confirmTitle:ee.I18N.get("deleteFieldTitle"),confirmDescription:ee.I18N.get("deleteFieldText"),confirmYesButton:ee.I18N.get("deleteLabelForFormField"),confirmNoButton:ee.I18N.get("cancel"),getProps(e){let{getFieldValue:a}=e;const o=a(q.formFields.type);return{hidden:o===t.f.SUBMIT||o===t.f.EMAIL||o===t.f.ATTACHMENT}}},et=te(ee.Stores.Widget.option("whatsAppEnabled")),tt={description:ee.I18N.get("whatsAppDescription")},at={label:ee.I18N.get("whatsAppToggle")},ot={label:ee.I18N.get("whatsAppButtonLabel"),required:!0,hidden:et},lt={label:ee.I18N.get("whatsAppNumber"),required:!0,hidden:et},rt={hidden:ee.Reseller.isReseller,info:Q("contactsLinkInfoContact"),linkText:Q("contactsLinkText"),link:oe(le.env,re.id,((e,t)=>`${j[e]?.contactsHost}/contacts?website_id=${t}`))},nt={link:oe(le.rootDomain,ie.id,re.id,ne.id,se.id,ie.market,((e,t,a,o,l,r)=>`https://social.manager.${e}/account/${t}/social/connect/gmb/launch?ua_placement=shared_header&redirectURL=${encodeURIComponent(`https://websites.${e}/${r}/editor/${a}/${o}/edit/${l}`)}`)),linkText:ee.I18N.get("listBusinessGoogle"),openAsNewTab:!1,showAsLink:!0,hidden:oe(ce.Website.property("gmbStatus"),(e=>"PUBLISHED"===e))},st={hidden:te(ce.Config.key("hasAvailableEmailCredits"))},it={[D]:ue,[x]:pe,[H]:me,[q.sectionTitle]:ye,[q.infoTitle]:Ne,[q.info]:fe,[q.businessName]:we,[q.address]:Ie,[q.backgroundImagePivot]:Te,[q.mediaPivot]:he,[q.image]:Ce,[q.link]:Ee,[q.showMap]:Ae,[q.phone]:Oe,[d]:Re,[c]:_e,[q.hoursTitle]:ve,[q.structuredHoursEnabled]:Se,[q.hoursCustomMessage]:Pe,[q.structuredHours]:Me,[u]:Fe,[q.formEnabled]:xe,[q.formTitle]:Ue,[q.formEmail]:He,[S]:st,[q.formSuccessMessage]:Be,[q.emailOptInEnabled]:We,[q.emailOptInMessage]:Ge,[q.formFields]:Xe,[q.formFields.label]:qe,[q.formFields.required]:$e,[q.formFields.type]:Ke,[q.formFields.attachmentsEnabled]:je,[q.formFields.attachmentsLabel]:ze,[w]:Ye,[A]:Ze,[E]:Je,[b]:ke,[T]:Qe,[N]:tt,[q.whatsAppEnabled]:at,[q.whatsAppButtonLabel]:ot,[q.whatsAppPhone]:lt,[_]:rt,[M]:nt},ct=[q.backgroundImagePivot,d,q.sectionTitle,q.infoTitle,q.info,q.businessName,q.address,M,q.showMap,q.phone,S,c],gt={[L]:[...ct],[D]:[u,q.hoursTitle,q.structuredHoursEnabled,q.structuredHours,q.hoursCustomMessage],[H]:[N,q.whatsAppEnabled,q.whatsAppPhone,q.whatsAppButtonLabel],[k]:[q.structuredHours.hour],[x]:[b,_,q.formEnabled,q.formTitle,q.formEmail,S,q.formSuccessMessage,q.emailOptInEnabled,q.emailOptInMessage,q.formFields],[U]:[E,q.formFields.label,q.formFields.type,q.formFields.required,w,q.formFields.attachmentsEnabled,q.formFields.attachmentsLabel,A,T]},dt=(global._||guac.lodash).merge({},gt,{[L]:[[q.mediaPivot],...ct],[B]:[q.image,q.link]}),pt=(global._||guac.lodash).merge({},gt,{[B]:[q.image]});var ut=(global.keyMirror||guac.keymirror)({CONTACT_SECTION_TITLE_REND:null,CONTACT_EMAIL_INPUT_REND:null,CONTACT_EMAIL_ERR_REND:null,CONTACT_ERR_REND:null,CONTACT_NAME_INPUT_REND:null,CONTACT_MESSAGE_INPUT_REND:null,CONTACT_SUBMIT_BUTTON_REND:null,CONTACT_CANCEL_BUTTON_REND:null,CONTACT_INFO_CONTAINER_REND:null,CONTACT_INFO_PHONE_REND:null,CONTACT_INFO_EMAIL_REND:null,CONTACT_INFO_URL_REND:null,CONTACT_INFO_ADDRESS_REND:null,CONTACT_INFO_BIZ_NAME_REND:null,CONTACT_INFO_WHATS_APP_REND:null,CONTACT_SECTION_DETAILS_REND:null,CONTACT_SECTION_HOURS_REND:null,CONTACT_SECTION_INFO_REND:null,CONTACT_HOURS_TITLE_REND:null,CONTACT_HOURS_REND:null,CONTACT_HOURS_CUST_MSG_REND:null,CONTACT_HOURS_DAY_REND:null,CONTACT_HOURS_COLLAPSED_REND:null,CONTACT_HOURS_COLLAPSED_LABEL:null,CONTACT_HOURS_COLLAPSED_HR_LABEL:null,CONTACT_HOURS_COLLAPSED_ARROW:null,CONTACT_INTRO_DESC_REND:null,CONTACT_INTRO_HEADING_REND:null,CONTACT_FORM_CONTAINER_REND:null,CONTACT_FORM_TITLE_REND:null,CONTACT_MAP_REND:null,CONTACT_MAP_STATIC_REND:null,CONTACT_MAP_MOBILE_OVERLAY:null,CONTACT_FORM_NAME:null,CONTACT_FORM_EMAIL:null,CONTACT_FORM_MESSAGE:null,CONTACT_FORM_ATTACHMENTS:null,CONTACT_FORM_SUBMIT_SUCCESS:null,CONTACT_FORM_SUBMIT_SUCCESS_MESSAGE:null,CONTACT_FORM_SUBSCRIBE_SUCCESS_MESSAGE:null,CONTACT_MAP_EXPAND_ICON:null,CONTACT_FORM_REVEAL_BUTTON_REND:null,CONTACT_FORM_COL1:null,CONTACT_FORM_COL2:null,CONTACT_FORM_CONTROLS:null,CONTACT_FORM_CONTAINER_MOBILE:null,CONTACT_FORM_CONTAINER_DESKTOP:null,CONTACT_FORM_CONTAINER_MOBILE_REND:null,CONTACT_FORM_RESPONSE_ERR_REND:null,CONTACT_FORM_EMAIL_OPT_IN:null,GOOGLE_MAP_STATIC:null,IMAGE_RENDERED:null,BG_IMAGE_RENDERED:null}),mt={SECTION_TITLE:"sectionTitle",INFO_TITLE:"infoTitle",INFO:"info",BUSINESS_NAME:"businessName",ADDRESS:"address",PHONE:"phone",FORM:"formFields",FORM_TITLE:"formTitle",HOURS:"structuredHours",HOURS_TITLE:"hoursTitle",HOURS_CUSTOM_MESSAGE:"hoursCustomMessage",WHATS_APP:"whatsApp",IMAGE:"image"};const bt="https://wa.me/";const ht={marginBottom:"medium"},Tt={sharedMargin:ht,marginReducer:{"> :last-child":{marginBottom:"0"}},phone:ht,whatsApp:{button:{display:"inline-flex",alignItems:"center",width:"auto",backgroundColor:"brandLivid",border:"none",borderWidth:"0px",fontSize:"medium",textTransform:"none",letterSpacing:"normal",fontWeight:"700",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",maxWidth:"88%",marginBottom:"xlarge",":hover":{backgroundColor:"brandLividHover"},":hover:after":{display:"none"},":after":{display:"none"},":active":{backgroundColor:"brandLivid"},"@md":{backgroundColor:"brandLivid",color:"brandLividContrast",":hover":{backgroundColor:"brandLividHover"},":active":{backgroundColor:"brandLivid"}},"@xs-only":{paddingHorizontal:"small"},"> span":{color:"brandLividContrast"}}}},Ct={"data-aid":ut.CONTACT_INFO_PHONE_REND},Et={"data-aid":ut.CONTACT_INFO_EMAIL_REND},yt={"data-aid":ut.CONTACT_INFO_URL_REND};function Nt(e){return e.phone?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"phone-el","data-route":mt.PHONE,children:e.phone,style:Tt.phone,linkify:!0,phoneProps:Ct,emailProps:Et,urlProps:yt}):null}function ft(e){return e.address&&e.address.value?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"address-el",style:Tt.sharedMargin,"data-aid":ut.CONTACT_INFO_ADDRESS_REND,"data-route":mt.ADDRESS,children:e.address.value}):null}function wt(e){return e.businessName?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"business-name-el",style:Tt.sharedMargin,"data-aid":ut.CONTACT_INFO_BIZ_NAME_REND,"data-route":mt.BUSINESS_NAME,children:e.businessName}):null}function It(e,t,a){const{structuredHours:o,staticContent:l,hoursCustomMessage:r,hours:n,structuredHoursEnabled:s,locale:i,renderMode:c,collapsible:g=t}=e,d=r||!o&&n;return s||d?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:Tt.marginReducer},function(e){const t=e.hoursTitle||void 0===e.hoursTitle&&e.hoursFieldset.hoursTitle;return t?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"hours-title-el",style:Tt.sharedMargin,"data-route":mt.HOURS_TITLE,"data-aid":ut.CONTACT_HOURS_TITLE_REND,"data-field-route":D,children:t}):null}(e),s&&function(e,t){const{structuredHours:a}=e;return a&&a instanceof Array?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:"hours-el","data-aid":ut.CONTACT_HOURS_REND,"data-route":mt.HOURS,"data-field-route":D,children:t(e),style:Tt.sharedMargin}):null}({structuredHours:o,staticContent:l,locale:i,collapsible:g,renderMode:c},a),(p=d,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{richtext:!0,"data-route":mt.HOURS_CUSTOM_MESSAGE,"data-aid":ut.CONTACT_HOURS_CUST_MSG_REND,"data-field-route":D,children:p}))):null;var p}function At(e){return e.info?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{key:"caption-el",style:Tt.sharedMargin,richtext:!0,"data-aid":ut.CONTACT_INTRO_DESC_REND,"data-route":mt.INFO,children:e.info}):null}function Ot(e){return e.infoTitle?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{key:"info-title-el",style:Tt.sharedMargin,"data-aid":ut.CONTACT_INTRO_HEADING_REND,"data-route":mt.INFO_TITLE,children:e.infoTitle}):null}function _t(e){const{whatsAppEnabled:t,whatsAppButtonLabel:a,whatsAppPhone:o,renderMode:l,isWhatsAppAvailable:r}=e,n=[(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH,(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PREVIEW].includes(l),s=function(e){const t=e&&e.phone;if(t&&(t.split(".")[1]||"").length>0){const e=t.replace(/\D/g,"");return`${bt}${e}`}return null}(o),i=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.whatsapp.click",type:"click"}),c=r&&t;return c&&!n||c&&s&&a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.External,{key:"whats-app-el",href:s,target:"_blank",style:{...Tt.sharedMargin,...Tt.whatsApp.button},"data-aid":ut.CONTACT_INFO_WHATS_APP_REND,"data-route":mt.WHATS_APP,"data-tccl":i,icon:"whatsApp",skin:"whatsapp"},a):null}var Rt=e=>{const t=(global._||guac.lodash).keys(e);function a(a,o){const l={};return(global._||guac.lodash).each(t,(t=>{l[t]=e[t](a,o)})),l}return{isInfoEmpty:function(a){return(global._||guac.lodash).every(t,(t=>!e[t](a)))},renderInfoElements:a,getOrderedContentElements:function(e,t){const{phone:o,address:l,businessName:r,hours:n,caption:s,infoTitle:i,whatsApp:c}=a(e,t);return[[i,s].filter((e=>!!e)),[c,r,l,o].filter((e=>!!e)),[n].filter((e=>!!e))].filter((e=>e.length)).map(((e,t,a)=>{const o=t<a.length-1?{marginBottom:"xlarge "}:{};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:`el-${t}`,style:o},e)}))}}};function Mt(){return"undefined"!=typeof SDK&&"VTX"in SDK?new Date(14955489e5):new Date}const vt=[new Date(2017,9,1),new Date(2017,9,2),new Date(2017,9,3),new Date(2017,9,4),new Date(2017,9,5),new Date(2017,9,6),new Date(2017,9,7)],St=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00:00").split(":"),a=parseInt(t[0],10),o=parseInt(t[1],10),l=Mt();return l.setHours(a),l.setMinutes(o),l.toLocaleString(e,{hour:"2-digit",minute:"2-digit"}).toLowerCase()};class Pt extends(global.React||guac.react).Component{constructor(e){super(e),this.toggleHoursView=this.toggleHoursView.bind(this),this.getHourLabel=this.getHourLabel.bind(this),this.state={collapsed:!0}}toggleHoursView(){this.setState({collapsed:!this.state.collapsed})}getHourLabel(e){const{staticContent:t,locale:a}=this.props;let o="";return o=e.closed?t.closed:e.byAppointmentOnly?t.byAppointment:`${St(e.openTime,a)} – ${St(e.closeTime,a)}`,o}render(){const{structuredHours:e,staticContent:t,locale:a,collapsible:o}=this.props,l=Mt().getDay(),r={borderSpacing:0,textAlign:"left",display:"inline-table"},n={display:"flex",marginTop:"xxsmall"},s={position:"relative",left:"xxsmall"},i=0===l?e.length-1:l-1,{hour:c}=e[i]||{};if(c&&o&&this.state.collapsed){const e=c.closed||c.byAppointmentOnly?`${t.today}`:`${t.openToday}`;return(global.React||guac.react).createElement("table",{style:r},(global.React||guac.react).createElement("tr",{"data-aid":ut.CONTACT_HOURS_COLLAPSED_REND,style:{cursor:"pointer"},onClick:this.toggleHoursView},(global.React||guac.react).createElement("td",{style:{paddingRight:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":ut.CONTACT_HOURS_COLLAPSED_LABEL},e)),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{whiteSpace:"nowrap",paddingLeft:"xxsmall"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{"data-aid":ut.CONTACT_HOURS_COLLAPSED_HR_LABEL,tag:"span"},this.getHourLabel(c)))),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":ut.CONTACT_HOURS_COLLAPSED_ARROW},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{group:"Group",tag:"span",style:n},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{icon:"chevronDown",size:"small",rotate:"0",style:s}))))))}return(global.React||guac.react).createElement("table",{style:r},e.map(((e,t)=>{let{hour:r}=e,i=(global._||guac.lodash).noop,c="auto",g="";o&&0===t&&(i=this.toggleHoursView,c="pointer",g=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":ut.CONTACT_HOURS_COLLAPSED_ARROW},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{group:"Group",tag:"span",style:n},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{icon:"chevronDown",size:"small",rotate:"180",style:s}))));const d=this.getHourLabel(r),p=l===r.dayOfWeek?"bold":"normal";return(global.React||guac.react).createElement("tr",{key:t,"data-aid":`${ut.CONTACT_HOURS_DAY_REND}_${r.dayOfWeek}`,onClick:i,style:{cursor:c}},(global.React||guac.react).createElement("td",{style:{paddingRight:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{fontWeight:p,wordBreak:"normal"}},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return vt[e].toLocaleDateString(t,{weekday:"short"})}(r.dayOfWeek,a))),(global.React||guac.react).createElement("td",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{fontWeight:p,whiteSpace:"nowrap",paddingLeft:"xxsmall"}},d)),(global.React||guac.react).createElement("td",null,g))})))}}Pt.propTypes={structuredHours:(global.PropTypes||guac["prop-types"]).array,staticContent:(global.PropTypes||guac["prop-types"]).object,locale:(global.PropTypes||guac["prop-types"]).string,collapsible:(global.PropTypes||guac["prop-types"]).bool};var Ft="@widget/CONTACT/bs-Component";const{components:{Bootstrap:Lt}}=global.Core||guac["@wsb/guac-widget-core"];function Dt(e){return(global.React||guac.react).createElement(Lt.Radpack,n({},e,{Component:Pt,entry:Ft}))}function kt(e){return(global.React||guac.react).createElement(Dt,e)}const{renderInfoElements:xt,isInfoEmpty:Ut,getOrderedContentElements:Ht}=Rt({phone:Nt,address:ft,businessName:wt,hours:(e,t)=>It(e,t,kt),caption:At,infoTitle:Ot,whatsApp:_t});class Bt extends(global.React||guac.react).Component{render(){const{isInternalPage:e,order:t,titleText:a}=this.props;return a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:a,"data-aid":ut.CONTACT_SECTION_TITLE_REND,"data-route":mt.SECTION_TITLE,isInternalPage:e,order:t}):null}}Bt.propTypes={isInternalPage:(global.PropTypes||guac["prop-types"]).bool,order:(global.PropTypes||guac["prop-types"]).number.isRequired,titleText:(global.PropTypes||guac["prop-types"]).string};const Wt=e=>`//img1.wsimg.com/isteam/ip/static/${e}`,Gt="undefined"==typeof window,Vt="IEMobile",Xt="Android",qt="BlackBerry",$t="iPhone|iPad|iPod",jt=function(){return!Gt&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[Xt,qt,$t,Vt]).reduce(((e,t)=>e||new RegExp(`/${t}/i`).test(navigator.userAgent)),!1)},zt=e=>{const t=`http://maps.google.com/maps?daddr=${e}`;window.open(t)},Yt=jt,Zt=()=>jt([$t]),Kt=e=>!1!==e.formEnabled,Jt=e=>!isNaN(parseFloat(e))&&isFinite(e),Qt=e=>!(e&&e.value&&Jt(e.lat)&&Jt(e.lng)),{Z_INDEX_FULL_SCREEN_OVERLAY:ea}=(global.Core||guac["@wsb/guac-widget-core"]).constants.layers;class ta extends(global.React||guac.react).Component{constructor(){super(...arguments),this.el=document.createElement("div"),this.el.className="x",this.mapContainer=null}componentDidMount(){const{renderMap:e}=this.props,t=document.querySelector(".device-chrome.device-chrome-mobile .viewport");Object.assign(this.el.style,{backgroundColor:"#ffffff",zIndex:ea},t?{position:"absolute",left:t.style.left,right:t.style.right,top:t.style.top,bottom:t.style.bottom,width:t.style.width,height:t.style.height}:{position:"fixed",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%"}),this.parentContainer=t?t.parentNode:document.body,this.parentContainer.appendChild(this.el),e(this.mapContainer)}componentWillUnmount(){this.parentContainer.removeChild(this.el)}render(){const{handleClose:e,getDirectionsLabel:t,handleGetDirections:a}=this.props,o=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:"neutral",section:"overlay",style:{width:"100%",height:"100%"},"data-aid":ut.CONTACT_MAP_MOBILE_OVERLAY},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{tag:"a",style:{position:"absolute",right:"small",top:"small",cursor:"pointer",background:`url('${Wt("mapIcon/close.svg")}')`,zIndex:1,width:"34px",height:"34px"},onClick:e}),(global.React||guac.react).createElement("div",{ref:e=>{this.mapContainer=e},style:{width:"100%",height:"100%"}}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{style:{zIndex:1,position:"absolute",bottom:"xlarger",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"90%"},onClick:a,children:t,solid:!0}));return(global.ReactDOM||guac["react-dom"]).createPortal(o,this.el)}}r(ta,"propTypes",{renderMap:(global.PropTypes||guac["prop-types"]).func.isRequired,handleClose:(global.PropTypes||guac["prop-types"]).func.isRequired,handleGetDirections:(global.PropTypes||guac["prop-types"]).func.isRequired,getDirectionsLabel:(global.PropTypes||guac["prop-types"]).string.isRequired,container:(global.PropTypes||guac["prop-types"]).node.isRequired});const aa=e=>{let{lat:t,lon:a}=e;return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[a,t]}}]}},oa=e=>{let{map:t,lat:a,lon:o,isMapbox:l=!0}=e;const r=l?()=>{t.resize(),t.easeTo({center:[o,a]}),t.getSource("markers").setData(aa({lat:a,lon:o}))}:()=>{t.panTo({lat:parseFloat(a,10),lng:parseFloat(o,10)})};(l?t.loaded():t&&!!t.mapUrl)?setTimeout(r,200):l&&t.on("load",r)},la=e=>{const t=Zt()?`http://maps.apple.com/?q=${e}`:`http://www.google.com/maps/dir//${e}`;window.location.href=t},ra=e=>{if(window.google&&window.google.maps&&"function"==typeof e)return e();if(document.querySelectorAll("script[src*='maps.googleapis.com/maps/api/js']").length)return setTimeout(e,2e3);const t=document.createElement("script"),a=["https://maps.googleapis.com/maps/api/js","?client=gme-godaddycom","&channel=gc-widget-contact"].join("");t.setAttribute("src",`${a}`),t.setAttribute("async","async"),document.body.appendChild(t),t.onload=e};class na extends(global.React||guac.react).Component{render(){const{address:e,staticContent:t,isRouteMobilePreviewPublish:a,openFullScreenOverlay:o}=this.props,l={button:{position:"absolute",left:"xxlarge",top:"xsmall",width:"auto","@xs-only":{fontSize:"xsmall",left:"xsmall",maxWidth:"90%"}}};if(!a){const a=t.mapCTA,o=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.get_directions.click",type:"click"});return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{tag:"button","data-tccl":o,onClick:zt.bind(null,e),style:l.button,solid:!0,icon:"direction",size:"small"},a)}return(global.React||guac.react).createElement("a",{onClick:o,style:l.icon,"data-aid":ut.CONTACT_MAP_EXPAND_ICON})}}na.propTypes={address:(global.PropTypes||guac["prop-types"]).string,isRouteMobilePreviewPublish:(global.PropTypes||guac["prop-types"]).bool,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,openFullScreenOverlay:(global.PropTypes||guac["prop-types"]).func.isRequired};const{GOOGLE_MAP_STATIC:sa}=ut;class ia extends(global.React||guac.react).Component{constructor(e){super(e),this.state={staticUrl:""}}componentDidMount(){const{lat:e,lon:t,address:a}=this.props;(e&&t||a)&&this.generateUrl()}generateStyles(){return{width:"100%",height:"100%","@xs-only":{objectFit:"contain",position:"absolute"}}}generateUrl(){const{lat:e,lon:t,address:a,dimensions:o,env:l}=this.props,{height:r,width:n}=o,s=(j&&j[l]||{}).generateUrlHost;if(!s)return;const i=[`lat=${e}`,`&lon=${t}`,`&address=${a}`,`&height=${r}`,`&width=${n}`].join("");window.fetch(`${s}/v1/static-google-map?${i}`).then((e=>e.json())).then((e=>{let{url:t}=e;return this.setState({staticUrl:t})}))}render(){const{staticUrl:e}=this.state;return e?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Image,{"data-aid":sa,style:this.generateStyles(),src:e}):null}}ia.propTypes={lat:(global.PropTypes||guac["prop-types"]).number,lon:(global.PropTypes||guac["prop-types"]).number,address:(global.PropTypes||guac["prop-types"]).string,dimensions:(global.PropTypes||guac["prop-types"]).object,env:(global.PropTypes||guac["prop-types"]).string},ia.defaultProps={dimensions:{height:80,width:275}};class ca extends(global.React||guac.react).Component{render(){const e={left:0,top:0,right:0,bottom:0,position:"absolute",display:"block",backgroundImage:`url('${Wt("mapIcon/mboxThumb.png")}')`,backgroundSize:"cover",backgroundPosition:"center"};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":ut.CONTACT_MAP_STATIC_REND,style:e,"data-traffic2":"pandc.vnext.edit_widget_contact.static_map.click"})}}class ga extends(global.React||guac.react).Component{constructor(e){super(e),r(this,"toggleMobileOverlay",(()=>{this.setState({showMobileOverlay:!this.state.showMobileOverlay})})),r(this,"handleGetDirections",(()=>{const{address:e}=this.props;la(e)})),r(this,"renderFullScreenMap",(e=>{this.generateGMap(e,!0)})),this.state={isMobile:Yt(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),showMobileOverlay:!1},this.generateGMap=this.generateGMap.bind(this),this.googleMap=null,this.mapContainer=null,this.currentCoords={lastLat:null,lastLon:null}}componentDidMount(){ra(!this.state.isMobile&&this.generateGMap.bind(this,this.mapContainer,!1))}componentDidUpdate(e){const{lat:t,lon:a,address:o,isEditMode:l}=this.props,{isMobile:r}=this.state,{lastLat:n,lastLon:s}=this.currentCoords;t&&a&&n!==t&&s!==a&&(oa({map:this.googleMap,lat:t,lon:a,isMapbox:!1}),this.currentCoords={lastLat:t,lastLon:a}),e.address===o&&(l||r)||this.generateGMap(this.mapContainer)}generateGMap(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{lat:a,lon:o,zoom:l,isEditMode:r,viewDevice:n,isPublishMode:s}=this.props,{isMobile:i,isViewPortRender:c}=this.state;if(!a||!o||!window.google)return;const g={lat:parseFloat(a,10),lng:parseFloat(o,10)},d={center:g,zoom:l,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1,fullscreenControl:!1,streetViewControl:!1,zoomControl:(t||!i||r||"DESKTOP_RENDER_DEVICE"===n)&&!c,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}};i&&!t&&(d.gestureHandling="none"),this.googleMap=new google.maps.Map(e,d),new google.maps.Marker({position:g,map:this.googleMap})}render(){const{lat:e,lon:t,zoom:a,category:o,section:l,address:r,staticContent:n,renderMode:s,isPublishMode:i,viewDevice:c,isEditMode:g,overrideOverlay:d,env:p}=this.props,{isMobile:u,isViewPortRender:m,showMobileOverlay:b}=this.state;if(!Boolean(Number(e)&&Number(t)&&Number(a)))return null;const h={shared:{left:0,top:0,right:0,bottom:0,position:"absolute",transform:"translate3d(0,0,0)"},wrapper:{display:"block",cursor:"pointer",position:"absolute !important"}},T=d||u&&!g&&"DESKTOP_RENDER_DEVICE"!==c,C=T&&!m?this.toggleMobileOverlay:(global._||guac.lodash).noop,E={address:r,staticContent:n,isRouteMobilePreviewPublish:T,openFullScreenOverlay:C};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:o,section:l,style:{...h.shared,...h.wrapper}},(global.React||guac.react).createElement("div",{ref:e=>{this.mapContainer=e},style:h.shared,"data-aid":ut.CONTACT_MAP_REND,onClick:C},T&&(global.React||guac.react).createElement(ia,this.props)),!m&&(global.React||guac.react).createElement(na,E),b&&(global.React||guac.react).createElement(ta,{getDirectionsLabel:n.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}ga.propTypes={lat:(global.PropTypes||guac["prop-types"]).string,lon:(global.PropTypes||guac["prop-types"]).string,zoom:(global.PropTypes||guac["prop-types"]).number,address:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,isPublishMode:(global.PropTypes||guac["prop-types"]).bool,viewDevice:(global.PropTypes||guac["prop-types"]).string,isEditMode:(global.PropTypes||guac["prop-types"]).bool,overrideOverlay:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string},ga.defaultProps={staticContent:{mapCTA:""}};const da=e=>{if(window&&window.mapboxgl)return void e();window&&window._trfq&&window._trfq.push(["cmdLogEvent","load","ux2.contact.mapbox.load",[]]);const t="//api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl",a=document.createElement("script");a.setAttribute("src",`${t}.js`),a.setAttribute("type","text/javascript"),a.setAttribute("async","async"),a.setAttribute("crossorigin","anonymous"),document.head.appendChild(a),a.onload=()=>{const a=document.createElement("link");a.setAttribute("href",`${t}.css`),a.setAttribute("rel","stylesheet"),a.setAttribute("async","async"),document.head.appendChild(a),a.onload=e}},pa=e=>{let{containerId:t,interactive:a,scrollZoom:o,lat:l,lon:r,zoom:n,accessToken:s,styleUrl:i}=e;const c=window.mapboxgl;if(!c||!c.supported())return null;const g={container:document.getElementById(t),style:i,interactive:a,zoom:n,center:[r,l],minZoom:1.5};c.accessToken=s;const d=new c.Map(g);return o||d.scrollZoom.disable(),d.on("load",(()=>{const e={id:"markers",type:"symbol",source:{type:"geojson"},layout:{"icon-image":"marker-vnext","icon-size":1}};if(e.source.data=aa({lat:l,lon:r}),d.addLayer(e),a){const e=new c.NavigationControl;d.addControl(e,"top-right")}})),d};class ua extends(global.React||guac.react).Component{constructor(e){super(e),r(this,"toggleMobileOverlay",(()=>{this.setState({showMobileOverlay:!this.state.showMobileOverlay})})),r(this,"generateMap",(()=>{const{lat:e,lon:t,zoom:a,viewDevice:o,mapboxAccessToken:l,mapboxStyleUrl:r,renderMode:n}=this.props,s=o&&o.match(/mobile/i)||n===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH&&Yt();e&&t&&(this.glMap=pa({containerId:this.mapId,interactive:!this.state.isRouteMobilePreviewPublish&&!s,scrollZoom:!1,lat:e,lon:t,zoom:a,accessToken:l,styleUrl:r}))})),r(this,"renderFullScreenMap",(e=>{const{lat:t,lon:a,zoom:o,mapboxAccessToken:l,mapboxStyleUrl:r}=this.props;pa({container:e,interactive:!0,lat:t,lon:a,zoom:o,scrollZoom:!0,accessToken:l,styleUrl:r})})),r(this,"handleGetDirections",(()=>{const{address:e}=this.props;la(e)})),this.state={isMobile:Yt(),isViewPortRender:"MOBILE_RENDER_DEVICE"===e.viewDevice&&!!document.querySelector(".device-chrome"),showMobileOverlay:!1},this.glMap=null,this.mapId=(global._||guac.lodash).uniqueId("MapBox-")}componentDidMount(){da(this.generateMap)}componentWillUnmount(){this.glMap?.remove()}componentDidUpdate(e){if(!this.glMap)return void da(this.generateMap);const{lat:t,lon:a}=this.props;t&&a&&(t!==e.lat||a!==e.lon)&&oa({map:this.glMap,lat:t,lon:a})}render(){const{lat:e,lon:t,zoom:a,address:o,staticContent:l,isPublishMode:r,isEditMode:n,viewDevice:s,overrideOverlay:i,renderMode:c}=this.props;if(!(Number(e)&&Number(t)&&Number(a)))return null;const{showMobileOverlay:g,isViewPortRender:d,isMobile:p}=this.state,u=i||p&&!n&&"DESKTOP_RENDER_DEVICE"!==s||r&&p,m=u&&!d?this.toggleMobileOverlay:(global._||guac.lodash).noop,b={address:o,staticContent:l,isRouteMobilePreviewPublish:u,openFullScreenOverlay:m};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement("div",{id:this.mapId,style:{left:0,top:0,right:0,bottom:0,position:"absolute",cursor:"pointer",display:"block",transform:"translate3d(0,0,0)"},"data-aid":ut.CONTACT_MAP_REND,onClick:m}),c!==(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX.Style,{shared:!0},".mapboxgl-canvas { height: 100% !important; width: 100% !important; }"),(global.React||guac.react).createElement(na,b),g&&(global.React||guac.react).createElement(ta,{getDirectionsLabel:l.mapCTA,renderMap:this.renderFullScreenMap,handleClose:this.toggleMobileOverlay,handleGetDirections:this.handleGetDirections}))}}ua.propTypes={lat:(global.PropTypes||guac["prop-types"]).string,lon:(global.PropTypes||guac["prop-types"]).string,zoom:(global.PropTypes||guac["prop-types"]).number,viewDevice:(global.PropTypes||guac["prop-types"]).string,address:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,mapboxAccessToken:(global.PropTypes||guac["prop-types"]).string,mapboxStyleUrl:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,isPublishMode:(global.PropTypes||guac["prop-types"]).bool,isEditMode:(global.PropTypes||guac["prop-types"]).bool,overrideOverlay:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string},ua.defaultProps={staticContent:{mapCTA:""}};var ma="mapbox",ba="google",ha="static";class Ta extends(global.React||guac.react).Component{render(){const{type:e}=this.props;switch(e){case ha:return(global.React||guac.react).createElement(ca,null);case ma:return(global.React||guac.react).createElement(ua,this.props);case ba:return(global.React||guac.react).createElement(ga,this.props);default:return null}}}Ta.propTypes={type:(global.PropTypes||guac["prop-types"]).string,...ga.propTypes,...ua.propTypes};const{selectors:Ca}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{utils:{createSelector:Ea,not:ya}}=Ca,Na=["contact9"],fa=Ca.Config.env,wa=Ca.Config.renderMode,Ia=Ca.Config.viewDevice,Aa=Ca.Account.market,Oa=Ca.Config.flags,_a=Ca.Website.id,Ra=Ca.Page.id,Ma=Ca.Account.id,va=Ca.Business.domain,Sa=Ca.Business.name,Pa=Ca.Page.isInternal,Fa=Ca.Navigation.links,La=Ca.I18N.staticContent,Da=Ca.Config.flag("mapRenderProvider"),ka=Ea(Ca.Config.flag("enableGoogleRecaptcha"),(e=>e?l.default.V3:null)),xa=W.map(((e,t)=>{const a=t+1;return{hour:{day:Ca.I18N.get(e),dayOfWeek:7===a?0:a,openTime:"09:00",closeTime:"17:00",byAppointmentOnly:!1,closed:6===a||7===a}}})),Ua=Ca.I18N.get("defaultValueForSectionTitle"),Ha=Ca.I18N.get("defaultValueForInfoTitle"),Ba=Ca.I18N.get("defaultValueForInfo"),Wa={value:Ca.Business.address,lat:Ca.Business.lat,lng:Ca.Business.lng},Ga=Ca.Business.phone,Va=Ca.Business.email,Xa=ya(Ca.Config.flag("enableWhatsAppByDefault")),qa=Ca.Config.flag("enableGoogleRecaptcha"),$a={image:Ca.StockPhotos.index(0)},ja=Ea(Ca.Widget.preset,Ca.I18N.get("defaultValueForFormTitle"),Ca.I18N.get("defaultValueForAltFormTitle"),((e,t,a)=>Na.includes(e)?a:t)),za=Ca.I18N.get("defaultValueForFormSuccessMessage"),Ya=Ca.I18N.get("defaultValueForEmailConfirmation"),Za=!J&&!0,Ka=Ca.I18N.get("defaultValueForEmailOptIn"),Ja=Ca.I18N.get("defaultValueForHoursTitle"),Qa=Ea(Ca.Plan.id,Ca.Config.flag("supportedPlansForEmailAttachments"),Ca.I18N.get("defaultName"),Ca.I18N.get("defaultEmailAddress"),Ca.I18N.get("defaultMessage"),Ca.I18N.get("defaultSubmitText"),Ca.I18N.get("attachments"),((e,t,a,o,l,r,n)=>[{type:"SINGLE_LINE",label:a,required:!1,keyName:"name"},{type:"EMAIL",label:o,validation:"email",required:!0,replyTo:!0,keyName:"email"},{type:"MULTI_LINE",label:l,required:!1,keyName:"message"},{type:"ATTACHMENT",label:n,required:!1},{type:"SUBMIT",label:r,required:!1}])),eo=Ea(Ca.Plan.id,Ca.Config.flag("supportedPlansForEmailAttachments"),Ca.I18N.get("defaultName"),Ca.I18N.get("defaultEmailAddress"),Ca.I18N.get("defaultPhone"),Ca.I18N.get("defaultInterestedIn"),Ca.I18N.get("defaultOtherNotes"),Ca.I18N.get("defaultSubmitText"),Ca.I18N.get("attachments"),((e,t,a,o,l,r,n,s,i)=>[{type:"SINGLE_LINE",label:a,required:!1,keyName:"name"},{type:"EMAIL",label:o,validation:"email",required:!0,replyTo:!0,keyName:"email"},{type:"SINGLE_LINE",label:l,required:!1,keyName:"phone"},{type:"MULTI_LINE",label:r,required:!1},{type:"MULTI_LINE",label:n,required:!1},{type:"ATTACHMENT",label:i,required:!1},{type:"SUBMIT",label:s,required:!1}])),to=Ca.Config.flag("isWhatsAppAvailable"),ao=Ca.Config.flag("enableWhatsAppByDefault"),oo=Ca.I18N.get("defaultValueForWhatsAppButtonLabel"),lo=Ea(Ca.Business.email,Ca.Business.phone,(function(){return`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}\n${arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}`}));var ro={__proto__:null,env:fa,renderMode:wa,viewDevice:Ia,locale:Aa,featureFlags:Oa,websiteId:_a,pageId:Ra,accountId:Ma,domainName:va,businessName:Sa,isInternalPage:Pa,internalLinks:Fa,staticContent:La,mapRenderType:Da,recaptchaType:ka,structuredHours:xa,structuredHoursEnabled:!0,sectionTitle:Ua,infoTitle:Ha,info:Ba,address:Wa,phone:Ga,formEmail:Va,formEnabled:Xa,googleRecaptchaDisabled:qa,mediaType:"image",image:$a,formTitle:ja,formSuccessMessage:za,emailConfirmationMessage:Ya,emailOptInEnabled:!1,emailOptInEnabledTrue:Za,emailOptInMessage:Ka,hoursTitle:Ja,formFields:Qa,formFieldsExtended:eo,isWhatsAppAvailable:to,whatsAppEnabled:ao,whatsAppButtonLabel:oo,emailPhoneField:lo,enableImageDimension:Ea(Ca.Config.flag("imageDimensionLayouts"),Ca.Widget.preset,((e,t)=>e?.includes(t))),showMap:Ea(Ca.Widget.preset,(e=>["contact1","contact4","contact5"].includes(e)))};const{Widget:no}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{ADD:so,PREVIEW:io,PUBLISH:co,EDIT:go,DISPLAY:po}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes;class uo extends no{get showMap(){const{address:e,renderMode:t,showMap:a}=this.props;return a&&this.mapEnabled()&&!([io,co].includes(t)&&Qt(e))}mapEnabled(){const{mapRenderType:e}=this.props;return e===ma||e===ba}get recaptchaEnabled(){return null!==this.props.recaptchaType}renderTitleSection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";const{isInternalPage:a,order:o}=this.props;return e?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading,{children:e,"data-route":mt.SECTION_TITLE,"data-aid":ut.CONTACT_SECTION_TITLE_REND,isInternalPage:a,level:2,order:o,tag:"h2",layout:t}))):null}getFormProps(){const{formTitle:e,formFields:t,renderMode:a,env:o,domainName:l,category:r,section:n,formSuccessMessage:s,websiteId:i,pageId:c,id:g,accountId:d,staticContent:p,emailOptInEnabled:u,emailOptInMessage:m,emailConfirmationMessage:b,recaptchaType:h}=this.props,T=Kt(this.props),C=j&&j[o]||{},E={formTitle:e,formFields:t,blankInfo:Ut(this.props),formSubmitHost:C.formSubmitHost,showMap:this.showMap,recaptchaEnabled:this.recaptchaEnabled,recaptchaType:h,domainName:l,category:r,section:n,formSuccessMessage:s,renderMode:a,formEnabled:T,websiteId:i,pageId:c,widgetId:g,accountId:d,staticContent:p,emailOptInEnabled:u,emailOptInMessage:m,emailConfirmationMessage:b,onFormToggle:this.onFormToggle};return this.layoutSpecificFormProps&&Object.assign(E,this.layoutSpecificFormProps()),E}getContainerColumnNumber(e){return e.blankInfo?"12":this.formMinWidthInCols}renderBootstrappedComponent(e,t){const{renderMode:a}=this.props,{component:o,raw:l}=t;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).components.Bootstrap.Radpack,n({},e,{entry:l,Component:o,renderMode:a}))}renderContactSection(e){return this.renderBootstrappedComponent({...this.props,...this.getFormProps(),...e},{component:this.contactComponent,raw:this.contactRaw})}renderFormSection(){return Kt(this.props)?this.renderBootstrappedComponent(this.getFormProps(),{component:this.contactFormComponent,raw:this.contactFormRaw}):null}renderMap(e){const{renderMode:t,address:a,viewDevice:o,env:l,category:r,section:s,staticContent:i,mapRenderType:c}=this.props,{mapboxAccessToken:g,mapboxStyleUrl:d}=j[l]||{},p=t===po||t===so||t===go&&Qt(a),u={lat:a&&a.lat,lon:a&&a.lng,address:a&&a.value,type:p?ha:c,isEditMode:t===go,zoom:14,renderMode:t,env:l,category:r,section:s,mapboxAccessToken:g,mapboxStyleUrl:d,staticContent:i,viewDevice:o,dimensions:e};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).components.Bootstrap.Radpack,n({},u,{entry:this.mapRaw,Component:Ta,viewDevice:o,renderMode:t}))}renderRecaptchaBadgeMask(){return(global.React||guac.react).createElement(o.default,null)}render(){const{category:e,isInternalPage:t,order:a,sectionTitle:o,section:l}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Widget,this.props,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Section,{category:e,section:l,style:{position:"relative"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Container,null,(global.React||guac.react).createElement(Bt,{titleText:o,isInternalPage:t,order:a}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Content,null,this.renderFormSection(),(global.React||guac.react).createElement(this.contactInfoComponent,this.props),this.recaptchaEnabled&&this.renderRecaptchaBadgeMask()))),this.showMap?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Map.Banner,{"data-route":mt.ADDRESS,style:{marginTop:"-medium",paddingBottom:"30%",position:"relative","@xs-only":{marginTop:"0px",minHeight:"200px"}},children:this.renderMap()}):null)}}r(uo,"propTypes",{...no.propTypes,...V}),r(uo,"defaultProps",{...no.defaultProps,...ro});e.C=uo,e.D=ut,e.F=mt,e.H=Pt,e.I=B,e.M="@widget/CONTACT/bs-genericMap",e._=r,e.a=gt,e.b=x,e.c=n,e.d=Kt,e.e=Za,e.f=eo,e.g=Ht,e.h=lo,e.i=Ut,e.j=dt,e.k=pt,e.l=Rt,e.m=it,e.n=Nt,e.o=ft,e.p=wt,e.q=It,e.r=xt,e.s=F,e.t=At,e.u=Ot,e.v=_t})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=genericMap-05c63981.js.map
